{"version":3,"file":"static/js/168.9484d2e6.chunk.js","mappings":"2NACA,GAAgB,YAAc,8B,SCuD9B,EA7CgB,WACd,OAA8BA,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,YAA1B,eAAOG,EAAP,KAAcC,EAAd,KAEQC,GAAOC,EAAAA,EAAAA,MAAPD,GAoBR,OAlBAE,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAgBH,GACbI,MAAK,YAAkB,IAChBC,EAAO,CACXC,KAFmB,EAAdC,QAESC,KAAI,kBAA8B,CAC9CR,GADgB,EAAGA,GAEnBS,OAFgB,EAAOA,OAGvBC,QAHgB,EAAeA,QAAf,KAOdC,EAAUC,OAAOC,OAAOR,GAAMS,MAAK,SAAAC,GAAK,OAAIC,MAAMC,QAAQF,EAAlB,IAE9ClB,EAAWc,EACZ,IACAO,OAAM,SAAApB,GAAK,OAAIC,EAASD,EAAMqB,QAAnB,GACf,GAAE,CAACnB,KAGF,gCACGF,IAAS,uBAAIA,IACbF,EAAQwB,OAAS,GAChB,eAAIC,UAAWC,EAAAA,YAAf,SACG1B,EAAQY,KAAI,YAA8B,IAA3BR,EAA0B,EAA1BA,GAAIS,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC1B,OACE,gBAAIW,UAAWC,EAAAA,YAAf,WACE,oCAAYb,MACZ,uBAAIC,MAF+BV,EAKxC,MAGH,+CAIP,C,sLClDKuB,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAS,gCACTC,OAAQ,CACNC,QALY,sCASHC,EAAmB,mCAAG,WAAMC,GAAN,uFACVN,EAASO,IAAT,sBAAoC,CACzDJ,OAAQ,CACNG,KAAAA,KAH6B,cAC3BE,EAD2B,yBAO1BA,EAAS1B,MAPiB,2CAAH,sDAUnB2B,EAAW,mCAAG,WAAMC,GAAN,uFACFV,EAASO,IAAT,gBAA8B,CACnDJ,OAAQ,CACNO,MAAAA,KAHqB,cACnBF,EADmB,yBAOlBA,EAAS1B,MAPS,2CAAH,sDAUX6B,EAAY,mCAAG,WAAMlC,GAAN,uFACHuB,EAASO,IAAT,iBAAuB9B,GAAM,CAClD0B,OAAQ,CACNS,SAAUnC,KAHY,cACpB+B,EADoB,yBAOnBA,EAAS1B,MAPU,2CAAH,sDAUZ+B,EAAe,mCAAG,WAAMpC,GAAN,uFACNuB,EAASO,IAAT,iBAAuB9B,EAAvB,YAAqC,CAC1D0B,OAAQ,CACNS,SAAUnC,KAHe,cACvB+B,EADuB,yBAOtBA,EAAS1B,MAPa,2CAAH,sDAUfF,EAAe,mCAAG,WAAMH,GAAN,uFACNuB,EAASO,IAAT,iBAAuB9B,EAAvB,YAAqC,CAC1D0B,OAAQ,CACNS,SAAUnC,KAHe,cACvB+B,EADuB,yBAOtBA,EAAS1B,MAPa,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviewsList\":\"Reviews_reviewsList__hDAQA\"};","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\n// ========== API ==========\n\nimport { getMovieReviews } from 'services/api';\n\n// ========== styles ==========\n\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [error, setError] = useState();\n\n  const { id } = useParams();\n\n  useEffect(() => {\n    getMovieReviews(id)\n      .then(({ results }) => {\n        const data = {\n          item: results.map(({ id, author, content }) => ({\n            id,\n            author,\n            content,\n          })),\n        };\n\n        const dataArr = Object.values(data).find(value => Array.isArray(value));\n\n        setReviews(dataArr);\n      })\n      .catch(error => setError(error.message));\n  }, [id]);\n\n  return (\n    <>\n      {error && <p>{error}</p>}\n      {reviews.length > 0 ? (\n        <ul className={css.reviewsList}>\n          {reviews.map(({ id, author, content }) => {\n            return (\n              <li className={css.reviewsItem} key={id}>\n                <p>Author: {author}</p>\n                <p>{content}</p>\n              </li>\n            );\n          })}\n        </ul>\n      ) : (\n        'We do not have any reviews for this movie.'\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\nconst API_KEY = 'a20616a55c666b428048dd0d7103de62';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: API_KEY,\n  },\n});\n\nexport const fetchTrendingMovies = async page => {\n  const response = await instance.get(`/trending/movie/day`, {\n    params: {\n      page,\n    },\n  });\n\n  return response.data;\n};\n\nexport const fetchMovies = async query => {\n  const response = await instance.get(`/search/movie`, {\n    params: {\n      query,\n    },\n  });\n\n  return response.data;\n};\n\nexport const getMovieById = async id => {\n  const response = await instance.get(`/movie/${id}`, {\n    params: {\n      movie_id: id,\n    },\n  });\n\n  return response.data;\n};\n\nexport const getMovieCredits = async id => {\n  const response = await instance.get(`/movie/${id}/credits`, {\n    params: {\n      movie_id: id,\n    },\n  });\n\n  return response.data;\n};\n\nexport const getMovieReviews = async id => {\n  const response = await instance.get(`/movie/${id}/reviews`, {\n    params: {\n      movie_id: id,\n    },\n  });\n\n  return response.data;\n};\n"],"names":["useState","reviews","setReviews","error","setError","id","useParams","useEffect","getMovieReviews","then","data","item","results","map","author","content","dataArr","Object","values","find","value","Array","isArray","catch","message","length","className","css","instance","axios","baseURL","params","api_key","fetchTrendingMovies","page","get","response","fetchMovies","query","getMovieById","movie_id","getMovieCredits"],"sourceRoot":""}